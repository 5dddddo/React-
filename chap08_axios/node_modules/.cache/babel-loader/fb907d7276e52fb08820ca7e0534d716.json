{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\OOO\\\\Downloads\\\\20220725_React-main\\\\chap08_axios\\\\src\\\\components\\\\ContactApp.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { Route, Routes, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport ContactHeader from \"./Contact/ContactHeader\";\nimport ContactHome from \"./Contact/ContactHome\";\nimport AddContact from \"./Contact/AddContact\";\nimport UpdateContact from \"./Contact/UpdateContact\";\nimport GetContact from \"./Contact/GetContact\";\nimport GetContactList from \"./Contact/GetContactList\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ContactApp() {\n  _s();\n\n  const baseURL = \"http://localhost:8000/contacts/\";\n  const [contactList, setContactList] = useState({\n    pageno: '',\n    pagesize: '',\n    totalcount: '',\n    contacts: []\n  });\n  const [contact, setContact] = useState({\n    no: '',\n    name: '',\n    tel: '',\n    address: '',\n    photo: ''\n  });\n  const navigate = useNavigate();\n\n  const getContactList = async function () {\n    let no = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n    let size = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n\n    try {\n      const resp = await axios.get(baseURL, {\n        params: {\n          pageno: no,\n          pagesize: size\n        }\n      });\n      setContactList(resp.data);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const getContact = async no => {\n    try {\n      const resp = await axios.get(baseURL + no);\n      setContact(resp.data);\n      navigate('/getContact');\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const deleteContact = useCallback(async no => {\n    try {\n      await axios.delete(baseURL + no);\n      navigate('/getContactList');\n      getContactList(1, 10);\n    } catch (err) {\n      console.error(err);\n    }\n  }, [navigate]);\n  const updateContact = useCallback(async data => {\n    try {\n      await axios.put(baseURL + data.no, data);\n      navigate('/getContactList');\n      getContactList(1, 10);\n    } catch (err) {\n      console.error(err);\n    }\n  }, [navigate]);\n  const addContact = useCallback(async data => {\n    try {\n      await axios.post(baseURL, data);\n      navigate('/getContactList');\n      getContactList(1, 10);\n    } catch (err) {\n      console.error(err);\n    }\n  }, [navigate]);\n  const changeContact = useCallback(evt => {\n    setContact(contact => ({ ...contact,\n      [evt.target.name]: evt.target.value\n    }));\n  }, []);\n\n  const goUpdate = () => navigate('/updateContact');\n\n  useEffect(() => {\n    getContactList(1, 10);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(ContactHeader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(ContactHome, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/getContactList\",\n        element: /*#__PURE__*/_jsxDEV(GetContactList, {\n          contactList: contactList,\n          getContact: getContact\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/getContact\",\n        element: /*#__PURE__*/_jsxDEV(GetContact, {\n          contact: contact,\n          goUpdate: goUpdate,\n          deleteContact: deleteContact\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/addContact\",\n        element: /*#__PURE__*/_jsxDEV(AddContact, {\n          contact: contact,\n          setContact: setContact,\n          changeContact: changeContact,\n          addContact: addContact\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/updateContact\",\n        element: /*#__PURE__*/_jsxDEV(UpdateContact, {\n          contact: contact,\n          changeContact: changeContact,\n          updateContact: updateContact\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"*\",\n        element: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Not Found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ContactApp, \"+gDE7PBJXnVxaXdFMuaJrndKilQ=\", false, function () {\n  return [useNavigate];\n});\n\n_c = ContactApp;\nexport default ContactApp;\n\nvar _c;\n\n$RefreshReg$(_c, \"ContactApp\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Route","Routes","useNavigate","axios","ContactHeader","ContactHome","AddContact","UpdateContact","GetContact","GetContactList","ContactApp","baseURL","contactList","setContactList","pageno","pagesize","totalcount","contacts","contact","setContact","no","name","tel","address","photo","navigate","getContactList","size","resp","get","params","data","err","console","error","getContact","deleteContact","delete","updateContact","put","addContact","post","changeContact","evt","target","value","goUpdate"],"sources":["C:/Users/OOO/Downloads/20220725_React-main/chap08_axios/src/components/ContactApp.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport { Route, Routes, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport ContactHeader from \"./Contact/ContactHeader\";\nimport ContactHome from \"./Contact/ContactHome\";\nimport AddContact from \"./Contact/AddContact\";\nimport UpdateContact from \"./Contact/UpdateContact\";\nimport GetContact from \"./Contact/GetContact\";\nimport GetContactList from \"./Contact/GetContactList\";\n\nfunction ContactApp() {\n  const baseURL = \"http://localhost:8000/contacts/\";\n  const [contactList, setContactList] = useState({pageno: '', pagesize: '', totalcount: '', contacts: []});\n  const [contact, setContact] = useState({no: '', name: '', tel: '', address: '', photo: ''});\n  const navigate = useNavigate();\n  \n  const getContactList = async (no=1, size=10) => {\n    try {\n      const resp = await axios.get(baseURL, {params: {pageno: no, pagesize: size}});\n      setContactList(resp.data);\n    } catch(err) {\n      console.error(err);\n    }\n  }\n  const getContact = async no => {\n    try {\n      const resp = await axios.get(baseURL + no);\n      setContact(resp.data);\n      navigate('/getContact')\n    } catch(err) {\n      console.error(err);\n    }\n  }\n  const deleteContact = useCallback(async no => {\n    try {\n      await axios.delete(baseURL + no);\n      navigate('/getContactList');\n      getContactList(1, 10);\n    } catch(err) {\n      console.error(err);\n    }\n  }, [navigate]);\n\n  const updateContact = useCallback(async data => {\n    try {\n      await axios.put(baseURL + data.no, data);\n      navigate('/getContactList');\n      getContactList(1, 10);\n    } catch(err) {\n      console.error(err);\n    }\n  }, [navigate]);\n\n  const addContact = useCallback(async data => {\n    try {\n      await axios.post(baseURL, data);\n      navigate('/getContactList');\n      getContactList(1, 10);\n    } catch(err) {\n      console.error(err);\n    }\n  }, [navigate]);\n\n  const changeContact = useCallback(evt => {\n    setContact(contact => ({...contact, [evt.target.name]: evt.target.value}))\n  }, []);\n\n  const goUpdate = () => navigate('/updateContact');\n\n  useEffect(() => {\n    getContactList(1, 10);\n  }, []);\n\n  return (\n    <div>\n      <ContactHeader />\n      <br />\n\n      <Routes>\n        <Route path=\"/\"                 element={<ContactHome />} />\n        <Route path=\"/getContactList\"   element={<GetContactList contactList={contactList} getContact={getContact} />} />\n        <Route path=\"/getContact\"       element={<GetContact contact={contact} goUpdate={goUpdate} deleteContact={deleteContact} />} />\n        <Route path=\"/addContact\"       element={<AddContact \n                  contact={contact} setContact={setContact} changeContact={changeContact} addContact={addContact} />} />\n        <Route path=\"/updateContact\"    element={<UpdateContact \n                  contact={contact} changeContact={changeContact} updateContact={updateContact} />} />\n        <Route path=\"*\"                 element={<h3>Not Found</h3>} />\n      </Routes>\n    </div>\n  );\n}\nexport default ContactApp;"],"mappings":"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"},"metadata":{},"sourceType":"module"}